<!DOCTYPE html>
<html lang="en">
<head>
    <title>JJ-Commerce</title>
    <meta charset="UTF-8">
    <meta name="description" content="The front-end of a simple e-commerce website's home page">
    <meta name="keywords" content="HTML, Web Development, FrontEnd, E-commerse">
    <meta name="author" content="Jaisumer Sandhu, Jaival Patel">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <img src="JJLogo.png" alt="JJ-Commerce Logo" width="250">
        <div class="header-content">
            <h1>JJ-Commerce ltd.</h1>
            <p><i>Standing On Bidness</i></p>
        </div>
    </header>
    <div class = "NAVBAR">
        <nav>
            <a href = "index.html">Home</a>
            <a href = "products.html">Our Products</a>
            <a href = "contact.html">Contact Info.</a>
            <a href = "login.html">Login/Signup</a>
        </nav>
    </div>
    <main class ="signupmain">
        <form class = "signupform" action="#" method="post">
                <label for="Username">Username:</label>
                <input type="text" id="Username" name="Username" placeholder="Enter your username" required><br>
                <label for="'Password">Password:</label>
                <input type="password" id="Password" name="Password" placeholder="Enter your password" required>
                <label for="Confirm_Password">Confirm Password:</label>
                <input type="password" id="Confirm_Password" name="Confirm_Password" placeholder="Enter your password to confirm" required>
                <label for="Email">Email:</label>
                <input type="email" id="Email" name="Email" placeholder="Enter your email" required>
                <input type="submit" value="Signup">
        </form>
    </main>
    <footer>
        <p><strong>&copy; 2024 JJ-Commerce. All rights reserved.</strong></p>
    </footer>
    <script>
        let message = [];
        let usertest = /^[a-zA-Z]+[a-zA-Z0-9_-]{2,19}/;
        let passtest = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*()[\]{}|;:,\.<>?/`~']).{8,}/;
        let emailtest = /[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$/

        function validateForm(){
            const usernameInput = document.getElementById('Username').value;
            if (!usertest.test(usernameInput)) {
                message.push('Check the Username');
            }

            const passwordInput = document.getElementById('Password').value;
            if (!passtest.test(passwordInput)) {
                message.push('Password must be at least 8 characters long and contain at least one digit, one lowercase letter, one uppercase letter, and one special character of the following: : !@#$%^&*()-_=+[]{}|;:\'",.<>?/`~');
            }

            const confirmPasswordInput = document.getElementById('Confirm_Password').value;
            if (passwordInput !== confirmPasswordInput) {
                message.push('Passwords doesn\'t match.');
            }

            const emailInput = document.getElementById('Email').value;
            if (!emailtest.test(emailInput)) {
                message.push('Check the email');
            }

            let messagebox = document.querySelector('.messagebox');
            if (!messagebox) {
                messagebox = document.createElement('div');
                messagebox.classList.add('messagebox');
                document.body.insertBefore(messagebox, document.querySelector('footer'));
            }
            
            messagebox.innerHTML = '';
            if (message.length > 0) {
                messagebox.innerHTML = `<p>${message.join('<br>')}</p>`;
            } else {
                messagebox.innerHTML = `<p>Signup Succesful!<p>`;
            }
            message = [];
        }
        document.querySelector('.signupform').addEventListener('submit', function(event) {
            event.preventDefault();
            validateForm();
        });
    </script>
</body>
</html>